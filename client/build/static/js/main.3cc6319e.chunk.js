(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t(18)},16:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(3),s=t.n(c),r=t(4),o=t(5),i=t(6),m=t(8),d=t(7),h=t(9),u=t(1),p=(t(16),function(){return l.a.createElement("div",{className:"sk-folding-cube"},l.a.createElement("div",{className:"sk-cube1 sk-cube"}),l.a.createElement("div",{className:"sk-cube2 sk-cube"}),l.a.createElement("div",{className:"sk-cube4 sk-cube"}),l.a.createElement("div",{className:"sk-cube3 sk-cube"}))}),E=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={username:"",cardName:"",dateOfBirth:"",cardExpiryDate:"",loading:!1,paymentMethod:""},t.clearPage=function(){t.setState({loading:!1,username:"",cardName:"",dateOfBirth:"",cardExpiryDate:""})},t.fetchDetails=function(){fetch("/api/details/".concat(t.state.username)).then(function(e){return e.json()}).then(function(e){t.setState(e)}).catch(function(e){console.log("something went wrong")})},t.postOrder=function(){var e=t.state;delete e.loading;var a=Object(u.a)(Object(u.a)(t));fetch("/api/orders",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.clearPage(),alert("Order placed!")}).catch(function(e){console.log(e),a.clearPage(),console.log("something went wrong")})},t.handleChange=function(e){t.setState(Object(r.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.setState({loading:!0}),t.postOrder()},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return this.state.loading?l.a.createElement(p,null):l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Swiggy Checkout"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Username"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"username",type:"text",value:this.state.username,onChange:this.handleChange,onBlur:this.fetchDetails})),l.a.createElement("p",{className:"help is-success"},"This username is available")),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Name on card"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"cardName",type:"text",value:this.state.cardName,onChange:this.handleChange}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Date of birth"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"dateOfBirth",type:"date",placeholder:"Text input",value:this.state.dateOfBirth,onChange:this.handleChange}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Expiry date of the card"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"cardExpiryDate",type:"text",placeholder:"eg 11/22",value:this.state.cardExpiryDate,onChange:this.handleChange}))),l.a.createElement("br",null),l.a.createElement("h2",null,"Select payment paymentMethod"),l.a.createElement("br",null),l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column box1"},l.a.createElement("input",{type:"radio",name:"paymentMethod",value:"mongodb",onChange:this.handleChange,checked:"mongodb"===this.state.paymentMethod}),l.a.createElement("span",null,"MongoDB")),l.a.createElement("div",{className:"column box1"},l.a.createElement("input",{type:"radio",name:"paymentMethod",value:"postegresql",onChange:this.handleChange,checked:"postegresql"===this.state.paymentMethod}),l.a.createElement("span",null,"PostegreSQL")),l.a.createElement("div",{className:"column box1"},l.a.createElement("input",{type:"radio",name:"paymentMethod",value:"mysql",checked:"mysql"===this.state.paymentMethod,onChange:this.handleChange}),l.a.createElement("span",null,"MySQL"))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link",disabled:!1},"Order")),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-text"},"Cancel")))),l.a.createElement("br",null),l.a.createElement("pre",null,JSON.stringify(this.state,!0,2)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.3cc6319e.chunk.js.map